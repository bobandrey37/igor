<?xml version="1.0" ?><data>
	<environment>
		<introspection>
			<lastActivity><reboot>2016-12-21T18:37:50</reboot><dhcp>2016-12-22T12:38:33.728665</dhcp><ble>2016-12-22T12:38:39.999593</ble><netAtmo>2016-12-22T12:17:45</netAtmo><smartMeter>2016-12-22T12:39:08</smartMeter><plant>2016-12-22T12:38:49.988643</plant><fitbit>2016-07-14T18:16:30</fitbit></lastActivity>
			<rebootCount>7.0</rebootCount>
		</introspection>
		<devices>
			<wangetjes>true</wangetjes>
			<phoneErika/>
			<phoneBrendan></phoneBrendan>
			<keysJack>true</keysJack>
		</devices>
		<messages>
		</messages>
		<weather>
			<tempInside>20.4</tempInside>
			<tempOutside>11.1</tempOutside>
		</weather>
		<energy>
			<electricity>00.556</electricity>
		</energy>
		<night></night>
	</environment>
	<sensors>
		<dhcp><lease><arp>true</arp><ping>true</ping><alive>true</alive><hardware>70:3e:ac:b6:2a:46</hardware><ip-address>192.168.1.54</ip-address><client-hostname>Wangetjes</client-hostname></lease><lease><hardware>18:8e:d5:e2:f8:ea</hardware><arp></arp><ping></ping><client-hostname></client-hostname><ip-address>192.168.1.55</ip-address></lease><lease><hardware>4c:57:ca:cd:7b:b1</hardware><arp></arp><ping></ping><client-hostname>Erikas-SE</client-hostname><ip-address>192.168.1.56</ip-address></lease><lease><hardware>00:22:aa:27:42:57</hardware><arp></arp><ping></ping><client-hostname>Wii</client-hostname><ip-address>192.168.1.59</ip-address></lease><lease><arp>true</arp><ping>true</ping><alive>true</alive><hardware>d8:30:62:66:63:8a</hardware><ip-address>192.168.1.74</ip-address><client-hostname>boom</client-hostname></lease><lease><arp>true</arp><ping>true</ping><alive>true</alive><hardware>18:fe:34:a1:8b:e8</hardware><ip-address>192.168.1.100</ip-address><client-hostname>ESP_A18BE8</client-hostname></lease><lease><hardware>f8:1e:df:d8:15:fb</hardware><arp></arp><ping></ping><client-hostname>bloesem</client-hostname><ip-address>192.168.1.101</ip-address></lease><lease><arp>true</arp><ping>true</ping><alive>true</alive><hardware>b8:8d:12:5c:ed:28</hardware><ip-address>192.168.1.103</ip-address><client-hostname>goudreinet-timecapsule</client-hostname></lease><lease><hardware>f0:cb:a1:74:e5:ef</hardware><arp></arp><ping></ping><client-hostname>iPhonevnBrendan</client-hostname><ip-address>192.168.1.106</ip-address></lease><lease><arp>true</arp><ping>true</ping><alive>true</alive><hardware>6c:40:08:9a:4e:0e</hardware><ip-address>192.168.1.107</ip-address><client-hostname>flap</client-hostname></lease><lease><arp>true</arp><ping></ping><alive>true</alive><hardware>34:51:c9:38:90:ff</hardware><ip-address>192.168.1.108</ip-address><client-hostname>AmbulanPad23G64</client-hostname></lease><lease><hardware>00:1c:42:25:d6:c9</hardware><arp></arp><ping></ping><client-hostname>ERIKAMESTERE4B6</client-hostname><ip-address>192.168.1.109</ip-address></lease><lease><arp>true</arp><ping>true</ping><alive>true</alive><hardware>00:00:85:ec:23:41</hardware><ip-address>192.168.1.111</ip-address><client-hostname></client-hostname></lease><lease><arp>true</arp><ping>true</ping><alive>true</alive><hardware>6c:ad:f8:05:10:ab</hardware><ip-address>192.168.1.113</ip-address><client-hostname>Homey</client-hostname></lease><lease><arp>true</arp><ping></ping><alive>true</alive><hardware>84:29:99:59:8b:31</hardware><ip-address>192.168.1.116</ip-address><client-hostname></client-hostname></lease><lease><arp>true</arp><ping>true</ping><alive>true</alive><hardware>00:16:cb:ae:3b:0b</hardware><ip-address>192.168.1.117</ip-address><client-hostname>mediacentre</client-hostname></lease><lease><hardware>00:26:4a:cf:5c:2d</hardware><arp></arp><ping></ping><client-hostname>OldWhite</client-hostname><ip-address>192.168.1.118</ip-address></lease><lease><hardware>00:26:bb:0b:35:a7</hardware><arp></arp><ping></ping><client-hostname>MacBookBrendan</client-hostname><ip-address>192.168.1.121</ip-address></lease><lease><arp>true</arp><ping>true</ping><alive>true</alive><hardware>60:01:94:0f:ce:05</hardware><ip-address>192.168.1.128</ip-address><client-hostname>ESP_0FCE05</client-hostname></lease><lease><arp>true</arp><ping>true</ping><alive>true</alive><hardware>18:fe:34:ca:e8:78</hardware><ip-address>192.168.1.130</ip-address><client-hostname>ESP_CAE878</client-hostname></lease><lease><arp>true</arp><ping>true</ping><alive>true</alive><hardware>00:1c:b3:b2:79:ef</hardware><ip-address>192.168.1.133</ip-address><client-hostname>mediacentre</client-hostname></lease></dhcp>
		<ble><bleDevice><available></available><rssi>-97</rssi><lastSeen>1482347175.52</lastSeen><address>44:16:07:bf:19:51</address></bleDevice><bleDevice><available></available><rssi>-96</rssi><lastSeen>1482403933.53</lastSeen><address>f5:16:4d:d6:63:37</address></bleDevice><bleDevice><available>true</available><rssi>-91</rssi><lastSeen>1482406715.35</lastSeen><firstSeen>1482341864.96</firstSeen><address>a4:77:33:b4:26:c3</address></bleDevice><bleDevice><available></available><rssi>-101</rssi><lastSeen>1482388430.12</lastSeen><address>57:62:84:46:69:9d</address></bleDevice><bleDevice><available></available><rssi>-90</rssi><lastSeen>1482368128.44</lastSeen><address>7c:66:2e:68:50:4e</address></bleDevice><bleDevice><available></available><rssi>-97</rssi><lastSeen>1482346504.29</lastSeen><address>53:25:f9:db:3e:d7</address></bleDevice><bleDevice><available></available><rssi>-97</rssi><lastSeen>1482398984.81</lastSeen><address>72:a1:27:86:40:5a</address></bleDevice><bleDevice><available></available><rssi>-62</rssi><lastSeen>1482398917.51</lastSeen><address>6a:88:17:4c:51:6e</address></bleDevice><bleDevice><available></available><rssi>-86</rssi><lastSeen>1482364983.31</lastSeen><address>67:9a:31:ea:3e:51</address></bleDevice><bleDevice><available></available><rssi>-100</rssi><lastSeen>1482356141.98</lastSeen><address>70:27:bc:14:c8:56</address></bleDevice><bleDevice><available></available><rssi>-97</rssi><lastSeen>1482358753.8</lastSeen><address>7e:bd:f8:17:77:11</address></bleDevice><bleDevice><available></available><rssi>-99</rssi><lastSeen>1482406337.4</lastSeen><address>5d:58:6f:2f:73:a8</address></bleDevice><bleDevice><available></available><rssi>-95</rssi><lastSeen>1482354661.91</lastSeen><address>6b:7e:41:d4:b0:1d</address></bleDevice><bleDevice><available></available><rssi>-89</rssi><lastSeen>1482359729.0</lastSeen><address>44:47:e7:e7:e2:34</address></bleDevice><bleDevice><available></available><rssi>-94</rssi><lastSeen>1482389617.81</lastSeen><address>5e:99:43:9c:38:08</address></bleDevice><bleDevice><available></available><rssi>-97</rssi><lastSeen>1482391942.79</lastSeen><address>73:c6:d1:7c:d0:04</address></bleDevice><bleDevice><available>true</available><rssi>-68</rssi><lastSeen>1482406716.1</lastSeen><firstSeen>1482341864.21</firstSeen><address>68:64:4b:30:45:1d</address></bleDevice><bleDevice><available></available><rssi>-96</rssi><lastSeen>1482403654.85</lastSeen><address>6d:3a:17:00:90:31</address></bleDevice><bleDevice><available></available><rssi>-98</rssi><lastSeen>1482403870.41</lastSeen><address>72:a7:94:81:76:2f</address></bleDevice><bleDevice><available></available><rssi>-98</rssi><lastSeen>1482343711.31</lastSeen><address>59:d7:61:27:c7:5d</address></bleDevice><bleDevice><available></available><rssi>-97</rssi><lastSeen>1482390949.95</lastSeen><address>54:5b:6e:04:59:3c</address></bleDevice><bleDevice><available></available><rssi>-99</rssi><lastSeen>1482403703.3</lastSeen><address>4b:75:b0:c0:f5:fb</address></bleDevice><bleDevice><available></available><rssi>-92</rssi><lastSeen>1482397298.98</lastSeen><address>7c:91:22:57:e1:d3</address></bleDevice><bleDevice><available></available><rssi>-99</rssi><lastSeen>1482358853.65</lastSeen><address>42:37:ac:62:1d:bf</address></bleDevice><bleDevice><available></available><rssi>-82</rssi><lastSeen>1482345437.1</lastSeen><address>40:b0:07:56:8e:17</address></bleDevice><bleDevice><available></available><rssi>-96</rssi><lastSeen>1482402893.98</lastSeen><address>76:09:84:b5:7d:44</address></bleDevice></ble>
		<rfid>
			<rfidtag>
				72:28:3d:a0
			</rfidtag>
			<rfidtag>
				72:28:3d:a0
			</rfidtag>
			<rfidtag>
				72:28:3d:a0
			</rfidtag>
			<rfidtag>72:28:3d:a0</rfidtag>
		</rfid>
		<tags>
			<tag>
				unknown 72:28:3d:a0
			</tag>
			<tag>
				jacks_keyring
			</tag>
			<tag>
				jacks_keyring
			</tag>
			<tag>jacks_keyring</tag>
		</tags>
		<netAtmo><binnen><Noise>45</Noise><Temperature>19.7</Temperature><When>1482405465</When><Humidity>55</Humidity><Pressure>1022.5</Pressure><CO2>899</CO2><AbsolutePressure>1020.9</AbsolutePressure><min_temp>19.3</min_temp><date_max_temp>1482362677</date_max_temp><date_min_temp>1482390907</date_min_temp><wifi_status>24</wifi_status><max_temp>20.3</max_temp></binnen><buiten><date_min_temp>1482361459</date_min_temp><rf_status>81</rf_status><Temperature>7</Temperature><When>1482405442</When><Humidity>94</Humidity><min_temp>6.3</min_temp><date_max_temp>1482403904</date_max_temp><battery_vp>3041</battery_vp><max_temp>7</max_temp></buiten></netAtmo>
		<smartMeter><unknown tag="1-3:0.2.8">(42)</unknown><timestamp>2016-12-22T12:39:08</timestamp><meter_id_electricity>4530303039303030303134333031343134</meter_id_electricity><total_kwh_tariff_1>003546.851</total_kwh_tariff_1><total_kwh_tariff_2>003908.428</total_kwh_tariff_2><total_kwh_tariff_1_returned>000000.000</total_kwh_tariff_1_returned><total_kwh_tariff_2_returned>000000.000</total_kwh_tariff_2_returned><current_tariff>0002</current_tariff><current_kw>00.556</current_kw><current_kw_return>00.000</current_kw_return><total_power_failures>00006</total_power_failures><total_power_failures_long>00003</total_power_failures_long><unknown tag="1-0:99.97.0">(2)(0-0:96.7.19)(160305102715W)(0000685705*s)(000101000001W)(2147483647*s)</unknown><unknown tag="1-0:32.32.0">(00000)</unknown><unknown tag="1-0:32.36.0">(00000)</unknown><unknown tag="0-0:96.13.1">()</unknown><unknown tag="0-0:96.13.0">()</unknown><unknown tag="1-0:31.7.0">(002*A)</unknown><unknown tag="1-0:21.7.0">(00.556*kW)</unknown><unknown tag="1-0:22.7.0">(00.000*kW)</unknown><unknown tag="0-1:24.1.0">(003)</unknown><meter_id_gas>4730303233353631323235343830343134</meter_id_gas><total_gas_m3>01852.034</total_gas_m3></smartMeter>
		<fitbit>
			<jack/>
		</fitbit>
	</sensors>
	<devices>
		<tv><power></power></tv>
		<plant><speed>0.0</speed><inrange>1</inrange><target>629</target><id>0</id><pos>622.16</pos></plant>
		<lcd>
			<message>
				hallo lui
			</message>
		</lcd>
		<igor><url>http://framboos.local:9333/data</url><host>framboos.local</host><port>9333</port><startTime>1482341870</startTime></igor>
	</devices>
	<people>
		<jack><home>true</home></jack><erika><home/></erika><brendan><home></home></brendan>
	</people>
	<identities>
		<brendan>
			<device>phoneBrendan</device>
		</brendan>
		<jack>
			<device>wangetjes</device>
			<device>keysJack</device>
			<plugindata>
				<fitbit>
					<consumerKey>
						146bf7b6e94c460fbd25f1d3d7e4b256
					</consumerKey>
					<encodedUserId>
						23TZD2
					</encodedUserId>
					<consumerSecret>
						3db895f328234a23a905247a73a1a31d
					</consumerSecret>
				</fitbit>
			</plugindata>
		</jack>
		<erika>
			<device>phoneErika</device>
			<device>keysErika</device>
		</erika>
	</identities>
	<actions>
		<action>
			<name>save</name>
			<interval>3600</interval>
			<minInterval>60</minInterval>
			<url>/internal/save</url>
			<xpath>/data/plugindata//* | /data/actions/* | /data/triggers/* | /data/identities//* | /data/sandbox/*</xpath>
		<notBefore>1482406805</notBefore></action>
			<action>
				<name>cleanup</name>
				<method>DELETE</method>
				<url>/data/sensors/rfid/rfidtag[position()&lt;last()]</url>
				<notBefore>1456318394</notBefore>
			</action>
			<action>
				<name>cleanup</name>
				<method>DELETE</method>
				<url>/data/sensors/tags/tag[position()&lt;last()]</url>
				<notBefore>1456318394</notBefore>
			</action>
			<action>
				<name>cleanup</name>
				<method>DELETE</method>
				<url>/data/environment/messages/message[position()&lt;last()]</url>
				<notBefore>1456318394</notBefore>
			</action>
			<action>
				<xpath>/data/actions/*</xpath>
				<url>/internal/updateActions</url>
			</action>
			<action>
				<interval>60</interval>
				<url>/pluginscripts/smartmeter_iotsa/pull</url>
			<notBefore>1482406690</notBefore></action>
			<action>
				<xpath>/data/sensors/smartMeter</xpath>
				<method>PUT</method>
				<url>/data/environment/energy/electricity</url>
				<mimetype>text/plain</mimetype>
				<data>{current_kw}</data>
			<notBefore>1482406696</notBefore></action>
			<action>
				<xpath>/data/sensors/smartMeter/timestamp</xpath>
				<method>PUT</method>
				<url>/data/environment/introspection/lastActivity/smartMeter</url>
				<mimetype>text/plain</mimetype>
				<data>{igor_dateTime(.)}</data>
			<notBefore>1482406696</notBefore></action>		
			<action>
				<xpath>/data/environment/messages/*</xpath>
				<condition>not(string(data/environment/night))</condition>
				<url>/pluginscripts/say/message?args={.}</url>
			<notBefore>1459550362</notBefore></action>
			<action>
				<xpath>/data/environment/messages/*</xpath>
				<url>/pluginscripts/lcd/message?args={.}</url>
			<notBefore>1459550362</notBefore></action>
			<action>
				<interval>60</interval>
				<url>/pluginscripts/dhcp/pull</url>
			<notBefore>1482406690</notBefore></action>
			<action>
				<interval>60</interval>
				<url>/pluginscripts/ble/pull</url>
			<notBefore>1482406690</notBefore></action>
			<action>
				<interval>900</interval>
				<url>/pluginscripts/netatmo/pull</url>
				<name>updateNetatmo</name>
			<notBefore>1482405846</notBefore></action>
			<action>
				<xpath>/data/sensors/netAtmo/*[1]/When</xpath>
				<method>PUT</method>
				<url>/data/environment/introspection/lastActivity/netAtmo</url>
				<mimetype>text/plain</mimetype>
				<data>{igor_dateTime(.)}</data>
			<notBefore>1482405850</notBefore></action>
			<action>
				<interval>36000</interval>
				<url>/pluginscripts/fitbit/pull?user=jack</url>
			<notBefore>1482377946</notBefore></action>
			<action>
				<xpath>/data/sensors/fitbit/*/*/time</xpath>
				<method>PUT</method>
				<url>/data/environment/introspection/lastActivity/fitbit</url>
				<mimetype>text/plain</mimetype>
				<data>{igor_dateTime(igor_timestamp(concat(../date, ' ', .)))}</data>
			<notBefore>1468512990</notBefore></action>
			<action>
				<name>showTemp</name>
				<method>POST</method>
				<url>/data/environment/messages/message</url>
				<mimetype>text/plain</mimetype>
				<data>Binnen {/data/environment/weather/tempInside} Buiten {/data/environment/weather/tempOutside}</data>
			</action>
			<action>
				<interval>900</interval>
				<method>PUT</method>
				<url>/data/environment/night</url>
				<mimetype>text/plain</mimetype>
			<data>{igor_hours_from_dateTime(igor_dateTime()) &lt; 8 or igor_hours_from_dateTime(igor_dateTime()) &gt;= 23}</data>
		<notBefore>1482405849</notBefore></action>
	
			<action>
				<name>start</name>
				<url>/internal/started</url>
			<notBefore>1482342027</notBefore></action>
			<action>
				<xpath>/data/devices/igor/startTime</xpath>
				<url>/data/environment/introspection/lastActivity/reboot</url>
				<method>PUT</method>
				<mimetype>text/plain</mimetype>
				<data>{igor_dateTime(.)}</data>
			<notBefore>1482341951</notBefore></action>
			<action>
				<xpath>/data/devices/igor/startTime</xpath>
				<url>/data/environment/introspection/rebootCount</url>
				<method>PUT</method>
				<mimetype>text/plain</mimetype>
				<data>{number(/data/environment/introspection/rebootCount)+1}</data>
			<notBefore>1482341951</notBefore></action>
			<action>
				<xpath>/data/sensors/rfid/rfidtag</xpath>
				<url>/data/sensors/tags/tag</url>
				<method>POST</method>
				<mimetype>text/plain</mimetype>
				<data>{igor_ifelse(/data/plugindata/rfid/tag[id=string($originalContext)]/name,concat(&quot;unknown &quot;,string($originalContext)))}</data>
				<notBefore>1459550361</notBefore>
			</action>
			<action>
				<xpath>/data/sensors/rfid/rfidtag</xpath>
				<url>/data/environment/introspection/lastActivity/rfid</url>
				<method>POST</method>
				<mimetype>text/plain</mimetype>
				<data>{igor_dateTime()}</data>
			</action>
			<action>
				<xpath>/data/sensors/tags/tag</xpath>
				<url>/data/environment/messages/message</url>
				<method>POST</method>
				<mimetype>text/plain</mimetype>
				<data>You presented tag {.}</data>
			<notBefore>1459550362</notBefore>
			</action>
			<action>
				<xpath>/data/devices/plant/pos</xpath>
				<url>http://plant.local/stepper/0?pos={.}</url>
			<notBefore>1482406729</notBefore></action>
			<action>
				<xpath>/data/devices/plant/pos</xpath>
				<url>/data/environment/introspection/lastActivity/plant</url>
				<method>PUT</method>
				<mimetype>text/plain</mimetype>
				<data>{igor_dateTime()}</data>
			<notBefore>1482406729</notBefore></action>
			<action>
				<xpath>/data/environment/energy/electricity</xpath>
				<url>/data/devices/plant/pos</url>
				<method>PUT</method>
				<mimetype>text/plain</mimetype>
				<data>{700-(number(.)*140)}</data>
				<minInterval>60</minInterval>
				<condition>not(string(/data/environment/night))</condition>
			<notBefore>1482406787</notBefore></action>
			<action>
				<interval>600</interval>
				<url>/pluginscripts/plant/pull</url>
			<notBefore>1482406147</notBefore></action>
			<action>
				<xpath>/data/sensors/ble/bleDevice</xpath>
				<condition>/data/plugindata/bleDevices/bleDevice[id=string($originalContext/address)]/name</condition>
				<url>/data/environment/devices/{/data/plugindata/bleDevices/bleDevice[id=string($originalContext/address)]/name}</url>
				<method>PUT</method>
				<mimetype>text/plain</mimetype>
				<data>{available}</data>
				<multiple>true</multiple>
			<notBefore>1461363502</notBefore></action>
			<action>
				<xpath>/data/sensors/ble/bleDevice</xpath>
				<url>/data/environment/introspection/lastActivity/ble</url>
				<method>PUT</method>
				<mimetype>text/plain</mimetype>
				<data>{igor_dateTime()}</data>
			<notBefore>1482406720</notBefore></action>
			<action>
				<xpath>/data/sensors/dhcp/lease</xpath>
				<condition>/data/plugindata/wifiDevices/wifiDevice[id=string($originalContext/hardware)]/name</condition>
				<url>/data/environment/devices/{/data/plugindata/wifiDevices/wifiDevice[id=string($originalContext/hardware)]/name}</url>
				<method>PUT</method>
				<mimetype>text/plain</mimetype>
				<data>{alive}</data>
				<multiple>true</multiple>
			<notBefore>1482406713</notBefore></action>
			<action>
				<xpath>/data/sensors/dhcp/lease</xpath>
				<url>/data/environment/introspection/lastActivity/dhcp</url>
				<method>PUT</method>
				<mimetype>text/plain</mimetype>
				<data>{igor_dateTime()}</data>
			<notBefore>1482406713</notBefore></action>
			<action>
				<xpath>/data/environment/devices/*</xpath>
				<condition>/data/identities/*[device=name($originalContext)]</condition>
				<url>/data/people/{name(/data/identities/*[device=name($originalContext)])}/home</url>
				<method>PUT</method>
				<mimetype>text/plain</mimetype>
				<data>{.}</data>
				<multiple>true</multiple>
			<notBefore>1482399770</notBefore></action>
			<action>
				<interval>60</interval>
				<url>/pluginscripts/philips/pull</url>
			<notBefore>1482406691</notBefore></action>			
	</actions>
	<sandbox>
	</sandbox>
	<eventSources>
		<disabled-eventSource>
			<src>https://api.particle.io/v1/devices/240023001547343339383037/events/time-temp-hum?access_token=3e77d4b9154e77caba4df0836e17f2a1ed73ebf0</src>
			<dst>/data/sensors/sparkHumidity/humidity</dst>
			<mimetype>application/json</mimetype>
		</disabled-eventSource>
	</eventSources>
	<plugindata>
		<rfid>
			<tag>
				<id>72:28:3d:a0</id>
				<name>jacks_keyring</name>
			</tag>
		</rfid>
		<smartmeter_iotsa>
				<host>smartmeter.local</host>
		</smartmeter_iotsa>
		<bleDevices>
			<bleDevice>
				<id>0e:0a:00:00:09:d7</id>
				<name>keysErika</name>
			</bleDevice>
			<bleDevice>
				<id>0e:0a:00:00:0a:58</id>
				<name>keysJack</name>
			</bleDevice>
		</bleDevices>
			<wifiDevices>
				<wifiDevice>
					<id>70:3e:ac:b6:2a:46</id>
					<name>wangetjes</name>
				</wifiDevice>
				<wifiDevice>
					<id>54:e4:3a:23:57:02</id>
					<name>phoneErika</name>
				</wifiDevice>
				<wifiDevice>
					<id>f0:cb:a1:74:e5:ef</id>
					<name>phoneBrendan</name>
				</wifiDevice>
			</wifiDevices>
		<say>
			<voice>Daniel</voice>
			<remoteHost>boom.local</remoteHost>
		</say>
		<fitbit>
			<oauthToken>
				9101144f978b82d31dd0f1c6cb1b3660
			</oauthToken>
			<oauthTokenSecret>
				c2805f0d98eda481a0ba5d598bf83fa2
			</oauthTokenSecret>
		</fitbit>
	</plugindata>
</data>