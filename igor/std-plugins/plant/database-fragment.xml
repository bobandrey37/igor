<?xml version="1.0" ?>
<data xmlns:own="http://jackjansen.nl/igor/owner">
	<devices>
		<{plugin} own:plugin="{plugin}"/>
	</devices>
	<actions>
		<action own:plugin="{plugin}">
			<xpath>/data/devices/{plugin}/pos</xpath>
			<url>{/data/plugindata/{plugin}/protocol}://{/data/plugindata/{plugin}/host}/stepper/0?pos={.}</url>
			<!-- needs capability for /data/plugindata/plant -->
			<!-- needs capability for /data/devices/plant -->
			<representing>devices/{plugin}</representing>
		</action>
		<action own:plugin="{plugin}">
			<!-- needs capability for data/devices/plant -->
			<xpath>/data/environment/energy/electricity</xpath>
			<url>/data/devices/{plugin}/pos</url>
			<method>PUT</method>
			<mimetype>text/plain</mimetype>
			<data>{700-(number(.)*700 div 5)}</data>
			<minInterval>60</minInterval>
			<condition>not(/data/environment/night)</condition>
		</action>
		<action own:plugin="{plugin}">
			<interval>600</interval>
			<url>/pluginscript/{plugin}/pull</url>
			<representing>devices/{plugin}</representing>
			<aggregate>true</aggregate>
		</action>			
	</actions>
	<plugindata>
		<{plugin} own:plugin="{plugin}">
			<host>{plugin}.local</host>
			<protocol>https</protocol>
		</{plugin}>
	</plugindata>
	<environment>
		<energy/>
	</environment>
</data>
