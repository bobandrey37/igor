<?xml version="1.0" ?>
<data xmlns:own="http://jackjansen.nl/igor/owner">
	<sensors>
		<{plugin} own:plugin="{plugin}"/>
	</sensors>
	<actions>
		<action own:plugin="{plugin}">
			<interval>60</interval>
			<url>/plugins/{plugin}/pull</url>
			<representing>sensors/{plugin}</representing>
			<aggregate>true</aggregate>
		</action>
        <action own:plugin="{plugin}">
            <xpath>/data/sensors/{plugin}/{plugin}Device</xpath>
            <condition>/data/plugindata/{plugin}Devices/{plugin}Device[id=string($originalContext/address)]/name</condition>
            <url>/data/environment/devices/{/data/plugindata/{plugin}Devices/{plugin}Device[id=string($originalContext/address)]/name}</url>
            <method>PUT</method>
            <mimetype>text/plain</mimetype>
            <data>{available}</data>
            <multiple>True</multiple>
        </action>
	</actions>
	<plugindata>
		<{plugin} own:plugin="{plugin}">
			<!-- needs capability for /data/sensors/{plugin} -->
			<!-- needs capability for /data/plugindata/{plugin}Devices -->
			<protocol>http</protocol>
			<host>localhost</host>
			<port>8081</port>
		</{plugin}>
		<{plugin}Devices own:plugin="{plugin}">
			<!-- example: -->
			<{plugin}Device>
				<id>00:11:22:33:44:55</id>
				<name>{plugin}DeviceName</name>
			</{plugin}Device>
		</{plugin}Devices>
	</plugindata>
</data>
