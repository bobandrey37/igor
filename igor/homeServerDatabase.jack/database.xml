<?xml version="1.0" ?><data>
	<sensors>
 
<dhcp><lease><arp>true</arp><ping>true</ping><alive>true</alive><hardware>6c:40:08:9a:4e:0e</hardware><ip-address>192.168.1.51</ip-address><client-hostname>flap</client-hostname></lease><lease><hardware>34:51:c9:38:90:ff</hardware><arp/><ping/><client-hostname>AmbulanPad23G64</client-hostname><ip-address>192.168.1.52</ip-address></lease><lease><hardware>f8:1e:df:d8:15:fb</hardware><arp/><ping/><client-hostname>bloesem</client-hostname><ip-address>192.168.1.53</ip-address></lease><lease><arp>true</arp><ping/><alive>true</alive><hardware>70:3e:ac:b6:2a:46</hardware><ip-address>192.168.1.54</ip-address><client-hostname>Wangetjes</client-hostname></lease><lease><hardware>18:8e:d5:e2:f8:ea</hardware><arp/><ping/><client-hostname/><ip-address>192.168.1.55</ip-address></lease><lease><arp>true</arp><ping/><alive>true</alive><hardware>54:e4:3a:23:57:02</hardware><ip-address>192.168.1.56</ip-address><client-hostname>Erikas-5S</client-hostname></lease><lease><arp>true</arp><ping>true</ping><alive>true</alive><hardware>00:16:cb:ae:3b:0b</hardware><ip-address>192.168.1.57</ip-address><client-hostname>mediacentre</client-hostname></lease><lease><arp>true</arp><ping>true</ping><alive>true</alive><hardware>84:29:99:59:8b:31</hardware><ip-address>192.168.1.58</ip-address><client-hostname/></lease><lease><arp>true</arp><ping>true</ping><alive>true</alive><hardware>b8:8d:12:5c:ed:28</hardware><ip-address>192.168.1.60</ip-address><client-hostname>goudreinet-timecapsule</client-hostname></lease><lease><hardware>54:e4:3a:23:57:02</hardware><arp/><ping/><client-hostname>Erikas-5S</client-hostname><ip-address>192.168.1.61</ip-address></lease><lease><arp>true</arp><ping/><alive>true</alive><hardware>f0:cb:a1:74:e5:ef</hardware><ip-address>192.168.1.63</ip-address><client-hostname>iPhonevnBrendan</client-hostname></lease><lease><arp>true</arp><ping>true</ping><alive>true</alive><hardware>18:fe:34:a1:8b:e8</hardware><ip-address>192.168.1.64</ip-address><client-hostname>ESP_A18BE8</client-hostname></lease><lease><arp>true</arp><ping>true</ping><alive>true</alive><hardware>00:00:85:ec:23:41</hardware><ip-address>192.168.1.65</ip-address><client-hostname/></lease><lease><hardware>00:1d:c9:d0:ce:40</hardware><arp/><ping/><client-hostname>GainSpand0ce40</client-hostname><ip-address>192.168.1.68</ip-address></lease><lease><arp>true</arp><ping>true</ping><alive>true</alive><hardware>18:fe:34:a1:8c:95</hardware><ip-address>192.168.1.69</ip-address><client-hostname>ESP_A18C95</client-hostname></lease><lease><arp>true</arp><ping>true</ping><alive>true</alive><hardware>00:1b:63:f1:30:0d</hardware><ip-address>192.168.1.71</ip-address><client-hostname>goudreinet-extreme</client-hostname></lease><lease><arp>true</arp><ping>true</ping><alive>true</alive><hardware>d8:30:62:66:63:8a</hardware><ip-address>192.168.1.74</ip-address><client-hostname>boom</client-hostname></lease><lease><hardware>30:5a:3a:e4:f8:85</hardware><arp/><ping/><client-hostname>SpiritusAliquam</client-hostname><ip-address>192.168.1.84</ip-address></lease><lease><hardware>6c:ad:f8:05:10:ab</hardware><arp/><ping/><client-hostname>Homey</client-hostname><ip-address>192.168.1.86</ip-address></lease><lease><hardware>00:1c:42:25:d6:c9</hardware><arp/><ping/><client-hostname>ERIKAMESTERE4B6</client-hostname><ip-address>192.168.1.87</ip-address></lease><lease><arp>true</arp><ping>true</ping><alive>true</alive><hardware>00:26:4a:cf:5c:2d</hardware><ip-address>192.168.1.88</ip-address><client-hostname>OldWhite</client-hostname></lease></dhcp>
<ble><bleDevice><available/><rssi>-92</rssi><lastSeen>1459707602.72</lastSeen><address>6d:d1:14:4f:a9:ef</address></bleDevice><bleDevice><available>true</available><rssi>-97</rssi><lastSeen>1459713479.95</lastSeen><firstSeen>1458775262.16</firstSeen><address>a4:77:33:b4:26:c3</address></bleDevice><bleDevice><available/><rssi>-95</rssi><lastSeen>1459696428.44</lastSeen><address>6b:94:46:3e:ed:c9</address></bleDevice><bleDevice><available/><rssi>-99</rssi><lastSeen>1459703266.86</lastSeen><address>72:53:c9:49:15:d3</address></bleDevice><bleDevice><available/><rssi>-98</rssi><lastSeen>1459673495.17</lastSeen><address>c4:42:02:a9:c6:a4</address></bleDevice><bleDevice><available/><rssi>-99</rssi><lastSeen>1459700733.24</lastSeen><address>7a:3c:06:8a:99:b2</address></bleDevice><bleDevice><available/><rssi>-100</rssi><lastSeen>1459690998.68</lastSeen><address>76:75:14:9b:0e:20</address></bleDevice><bleDevice><available/><rssi>-102</rssi><lastSeen>1459674475.6</lastSeen><address>5b:1a:df:31:b3:a3</address></bleDevice><bleDevice><available/><rssi>-92</rssi><lastSeen>1459703477.88</lastSeen><address>66:d5:ec:26:11:90</address></bleDevice><bleDevice><available>true</available><rssi>-91</rssi><lastSeen>1459713477.28</lastSeen><firstSeen>1459697013.86</firstSeen><address>0e:0a:00:00:0a:58</address></bleDevice><bleDevice><available/><rssi>-98</rssi><lastSeen>1459674488.43</lastSeen><address>4d:13:ad:43:b2:dc</address></bleDevice><bleDevice><available/><rssi>-97</rssi><lastSeen>1459693748.03</lastSeen><address>7b:2c:a2:05:b0:ff</address></bleDevice><bleDevice><available/><rssi>-98</rssi><lastSeen>1459644022.74</lastSeen><address>75:1f:72:46:46:d5</address></bleDevice><bleDevice><available>true</available><rssi>-70</rssi><lastSeen>1459713480.05</lastSeen><firstSeen>1458775261.83</firstSeen><address>68:64:4b:30:45:1d</address></bleDevice><bleDevice><available/><rssi>-97</rssi><lastSeen>1459702187.59</lastSeen><address>7f:c5:d2:5d:f3:52</address></bleDevice><bleDevice><available/><rssi>-102</rssi><lastSeen>1459712638.44</lastSeen><address>ea:b7:54:d4:5f:37</address></bleDevice><bleDevice><available/><rssi>-98</rssi><lastSeen>1459696989.78</lastSeen><address>57:88:50:9b:a6:f6</address></bleDevice><bleDevice><available/><rssi>-95</rssi><lastSeen>1459689281.48</lastSeen><address>7e:92:5b:d7:a5:76</address></bleDevice><bleDevice><available/><rssi>-98</rssi><lastSeen>1459712188.15</lastSeen><address>4d:a8:2d:ea:7e:66</address></bleDevice><bleDevice><available/><rssi>-98</rssi><lastSeen>1459701661.55</lastSeen><address>59:61:a0:53:eb:b4</address></bleDevice><bleDevice><available/><rssi>-100</rssi><lastSeen>1459630999.48</lastSeen><address>58:8a:78:04:9f:00</address></bleDevice><bleDevice><available/><rssi>-100</rssi><lastSeen>1459695258.3</lastSeen><address>68:17:5d:5d:00:02</address></bleDevice><bleDevice><available>true</available><rssi>-79</rssi><lastSeen>1459713480.29</lastSeen><firstSeen>1459194831.91</firstSeen><address>d1:59:4c:3c:5c:2e</address></bleDevice><bleDevice><available/><rssi>-89</rssi><lastSeen>1459709050.05</lastSeen><address>7a:25:10:a6:f4:c4</address></bleDevice></ble>
<netatmo>
	<binnen>
		<noise>
			43
		</noise>
		<temperature>
			19.2
		</temperature>
		<when>
			1458079046
		</when>
		<humidity>
			61
		</humidity>
		<pressure>
			1023.2
		</pressure>
		<co2>
			648
		</co2>
		<absolutepressure>
			1023.2
		</absolutepressure>
		<min_temp>
			16.7
		</min_temp>
		<date_max_temp>
			1458060232
		</date_max_temp>
		<date_min_temp>
			1458035983
		</date_min_temp>
		<wifi_status>
			43
		</wifi_status>
		<max_temp>
			19.5
		</max_temp>
	</binnen>
	<buiten>
		<date_min_temp>
			1458016822
		</date_min_temp>
		<rf_status>
			74
		</rf_status>
		<temperature>
			8.4
		</temperature>
		<when>
			1458079002
		</when>
		<humidity>
			84
		</humidity>
		<min_temp>
			5.3
		</min_temp>
		<date_max_temp>
			1458061726
		</date_max_temp>
		<battery_vp>
			5308
		</battery_vp>
		<max_temp>
			9
		</max_temp>
	</buiten>
</netatmo>
<rfid>
	<rfidtag>
		72:28:3d:a0
	</rfidtag>
	<rfidtag>
		72:28:3d:a0
	</rfidtag>
	<rfidtag>
		72:28:3d:a0
	</rfidtag>
<rfidtag>72:28:3d:a0</rfidtag></rfid>
<tags>
	<tag>
		unknown 72:28:3d:a0
	</tag>
	<tag>
		jacks_keyring
	</tag>
	<tag>
		jacks_keyring
	</tag>
<tag>jacks_keyring</tag></tags>
<netAtmo><binnen><Noise>44</Noise><Temperature>20.8</Temperature><When>1459712448</When><Humidity>53</Humidity><Pressure>1001.3</Pressure><CO2>571</CO2><AbsolutePressure>1001.3</AbsolutePressure><min_temp>19.5</min_temp><date_max_temp>1459705465</date_max_temp><date_min_temp>1459634443</date_min_temp><wifi_status>41</wifi_status><max_temp>20.9</max_temp></binnen><buiten><date_min_temp>1459637454</date_min_temp><rf_status>79</rf_status><Temperature>18.4</Temperature><When>1459712399</When><Humidity>61</Humidity><min_temp>13</min_temp><date_max_temp>1459703325</date_max_temp><battery_vp>5302</battery_vp><max_temp>22.8</max_temp></buiten></netAtmo><smartMeter><total_kwh_tariff_1>2241.318</total_kwh_tariff_1><total_power_failures_long>3</total_power_failures_long><current_tariff>1</current_tariff><total_kwh_tariff_2>2490.342</total_kwh_tariff_2><meter_id_gas>G0023561225480414</meter_id_gas><meter_id_electricity>E0009000014301414</meter_id_electricity><current_kw>0.64</current_kw><total_kwh_tariff_2_returned>0.0</total_kwh_tariff_2_returned><current_kw_return>0.0</current_kw_return><total_gas_m3>1293.451</total_gas_m3><total_power_failures>6</total_power_failures><total_kwh_tariff_1_returned>0.0</total_kwh_tariff_1_returned></smartMeter></sensors>
	<devices>
		<tv>
			<power/>
		</tv>
		<plant><speed>0.0</speed><inrange>1</inrange><target>43</target><id>0</id><pos>43</pos></plant>
		<lcd>
			<message>
				hallo lui
			</message>
		</lcd>
	<homeServer><url>http://framboos.local:8080/data</url><host>framboos.local</host><port>8080</port><startTime>1459718813</startTime></homeServer></devices>
	<people>
		<jack><home>true</home></jack><erika><home/></erika><brendan><home>true</home></brendan>
	</people>
	<identities>
		<brendan>
			<device>phoneBrendan</device>
		</brendan>
		<jack>
			<device>wangetjes</device>
			<device>keysJack</device>
			<plugindata>
				<fitbit>
					<consumerkey>
						146bf7b6e94c460fbd25f1d3d7e4b256
					</consumerkey>
					<encodeduserid>
						23TZD2
					</encodeduserid>
					<consumersecret>
						3db895f328234a23a905247a73a1a31d
					</consumersecret>
				</fitbit>
			</plugindata>
		</jack>
		<erika>
			<device>phoneErika</device>
			<device>keysErika</device>
		</erika>
	</identities>
<actions>
	<action>
		<name>save</name>
		<interval>3600</interval>
		<minInterval>60</minInterval>
		<url>/internal/save</url>
		<xpath>/data/plugindata//* | /data/actions/* | /data/triggers/* | /data/identities//* | /data/sandbox/*</xpath>
	<notBefore>1459718873</notBefore></action>
        <action>
            <name>cleanup</name>
            <method>DELETE</method>
            <url>/data/sensors/rfid/rfidtag[position()&lt;last()]</url>
            <notBefore>1456318394</notBefore>
        </action>
        <action>
            <name>cleanup</name>
            <method>DELETE</method>
            <url>/data/sensors/tags/tag[position()&lt;last()]</url>
            <notBefore>1456318394</notBefore>
        </action>
        <action>
            <name>cleanup</name>
            <method>DELETE</method>
            <url>/data/environment/messages/message[position()&lt;last()]</url>
            <notBefore>1456318394</notBefore>
        </action>
	<action>
		<xpath>/data/actions/*</xpath>
		<url>/internal/updateActions</url>
	</action>
	<action>
		<xpath>/data/sensors/smartMeter</xpath>
		<method>PUT</method>
		<url>/data/environment/energy/electricity</url>
		<mimetype>text/plain</mimetype>
		<data>{current_kw}</data>
	<notBefore>1459713462</notBefore></action>
		
	<action>
		<xpath>/data/environment/messages/*</xpath>
		<condition>not(data/environment/night)</condition>
		<url>/pluginscripts/say/message?args={.}</url>
	<notBefore>1459550362</notBefore></action>
	<action>
		<xpath>/data/environment/messages/*</xpath>
		<url>/pluginscripts/lcd/message?args={.}</url>
	<notBefore>1459550362</notBefore></action>
	<action>
		<interval>60</interval>
		<url>/pluginscripts/smartmeter/pull</url>
	<notBefore>1459718814</notBefore></action>
	<action>
		<interval>60</interval>
		<url>/pluginscripts/dhcp/pull</url>
	<notBefore>1459718814</notBefore></action>
	<action>
		<interval>60</interval>
		<url>/pluginscripts/ble/pull</url>
	<notBefore>1459718814</notBefore></action>
	<action>
		<interval>900</interval>
		<url>/pluginscripts/netatmo/pull</url>
		<name>updateNetatmo</name>
	<notBefore>1459718814</notBefore></action>
	<action>
		<interval>36000</interval>
		<url>/pluginscripts/fitbit/pull?user=jack</url>
	<notBefore>1459718814</notBefore></action>
	<action>
		<name>showTemp</name>
		<method>POST</method>
		<url>/data/environment/messages/message</url>
		<mimetype>text/plain</mimetype>
		<data>Binnen {/data/environment/weather/tempInside} Buiten {/data/environment/weather/tempOutside}</data>
	</action>
	<action>
		<interval>900</interval>
		<method>PUT</method>
		<url>/data/environment/night</url>
		<mimetype>text/plain</mimetype>
	<data>{igor_hours_from_dateTime(igor_dateTime()) &lt; 8 or igor_hours_from_dateTime(igor_dateTime()) &gt;= 23}</data>
<notBefore>1459718814</notBefore></action>
	
	    <action>
	        <name>start</name>
	        <url>/internal/started</url>
	    <notBefore>1459501149</notBefore></action>
        <action>
            <xpath>/data/sensors/rfid/rfidtag</xpath>
            <url>/data/sensors/tags/tag</url>
            <method>POST</method>
            <mimetype>text/plain</mimetype>
            <data>{igor_ifelse(/data/plugindata/rfid/tag[id=string($originalContext)]/name,concat(&quot;unknown &quot;,string($originalContext)))}</data>
            <notBefore>1459550361</notBefore>
        </action>
		<action>
			<xpath>/data/sensors/tags/tag</xpath>
			<url>/data/environment/messages/message</url>
			<method>POST</method>
			<mimetype>text/plain</mimetype>
			<data>You presented tag {.}</data>
		<notBefore>1459550362</notBefore>
		</action>
		<action>
			<xpath>/data/devices/plant/pos</xpath>
			<url>http://plant.local/stepper/0?pos={.}</url>
		<notBefore>1459501149</notBefore></action>
		<action>
			<xpath>/data/environment/energy/electricity</xpath>
			<url>/data/devices/plant/pos</url>
			<method>POST</method>
			<mimetype>text/plain</mimetype>
			<data>{700-(number(.)*140)}</data>
			<minInterval>60</minInterval>
			<condition>not(/data/environment/night)</condition>
		</action>
		<action>
			<interval>600</interval>
			<url>/pluginscripts/plant/pull</url>
		<notBefore>1459718814</notBefore></action>
        <action>
            <xpath>/data/sensors/ble/bleDevice</xpath>
            <condition>/data/plugindata/bleDevices/bleDevice[id=string($originalContext/address)]/name</condition>
            <url>/data/environment/devices/{/data/plugindata/bleDevices/bleDevice[id=string($originalContext/address)]/name}</url>
            <method>PUT</method>
            <mimetype>text/plain</mimetype>
            <data>{available}</data>
            <multiple>true</multiple>
        <notBefore>1459713483</notBefore></action>
        <action>
            <xpath>/data/sensors/dhcp/lease</xpath>
            <condition>/data/plugindata/wifiDevices/wifiDevice[id=string($originalContext/hardware)]/name</condition>
            <url>/data/environment/devices/{/data/plugindata/wifiDevices/wifiDevice[id=string($originalContext/hardware)]/name}</url>
            <method>PUT</method>
            <mimetype>text/plain</mimetype>
            <data>{alive}</data>
            <multiple>true</multiple>
        <notBefore>1459713368</notBefore></action>
        <action>
        	<xpath>/data/environment/devices/*</xpath>
        	<condition>/data/identities/*[device=name($originalContext)]</condition>
        	<url>/data/people/{name(/data/identities/*[device=name($originalContext)])}/home</url>
        	<method>PUT</method>
        	<mimetype>text/plain</mimetype>
        	<data>{.}</data>
        	<multiple>true</multiple>
        <notBefore>1459713376</notBefore></action>
</actions>
<sandbox>
<test/><test7/><test8/><attrtest attr="hello">goodbye</attrtest><nsattrtest ns:attr="hello" xmlns:ns="http://jackjansen.nl/igor">goodbye</nsattrtest><nsattrtestr ns:attr="hello" xmlns:ns="http://jackjansen.nl/igor"><ns:greeting>goodbye</ns:greeting></nsattrtestr></sandbox>
<environment>
	<devices>
	<wangetjes>true</wangetjes><phoneErika/><phoneBrendan>true</phoneBrendan><keysJack>true</keysJack></devices>
<messages><message>You presented tag jacks_keyring</message></messages><weather><tempInside>20.4</tempInside><tempOutside>11.1</tempOutside></weather><energy><electricity>0.64</electricity></energy><night/></environment>
<eventSources>
	<disabled-eventSource>
		<src>https://api.particle.io/v1/devices/240023001547343339383037/events/time-temp-hum?access_token=3e77d4b9154e77caba4df0836e17f2a1ed73ebf0</src>
		<dst>/data/sensors/sparkHumidity/humidity</dst>
		<mimetype>application/json</mimetype>
	</disabled-eventSource>
</eventSources>
<plugindata>
	<rfid>
		<tag>
			<id>72:28:3d:a0</id>
			<name>jacks_keyring</name>
		</tag>
	</rfid>
	<bleDevices>
		<bleDevice>
			<id>0e:0a:00:00:09:d7</id>
			<name>keysErika</name>
		</bleDevice>
		<bleDevice>
			<id>0e:0a:00:00:0a:58</id>
			<name>keysJack</name>
		</bleDevice>
	</bleDevices>
		<wifiDevices>
			<wifiDevice>
				<id>70:3e:ac:b6:2a:46</id>
				<name>wangetjes</name>
			</wifiDevice>
			<wifiDevice>
				<id>54:e4:3a:23:57:02</id>
				<name>phoneErika</name>
			</wifiDevice>
			<wifiDevice>
				<id>f0:cb:a1:74:e5:ef</id>
				<name>phoneBrendan</name>
			</wifiDevice>
		</wifiDevices>
	<say>
		<voice>Daniel</voice>
	<remoteHost>boom.local</remoteHost></say>
	<fitbit>
		<oauthtoken>
			9101144f978b82d31dd0f1c6cb1b3660
		</oauthtoken>
		<oauthtokensecret>
			c2805f0d98eda481a0ba5d598bf83fa2
		</oauthtokensecret>
	</fitbit>
</plugindata>
</data>